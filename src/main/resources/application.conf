# Database Configuration
# All database credentials are loaded from .env file
database {
  # PostgreSQL connection settings from environment variables
  host = ${DB_HOST}
  port = ${DB_PORT}
  name = ${DB_NAME}
  user = ${DB_USER}
  password = ${DB_PASSWORD}
  
  # JDBC URL is constructed from the above
  driver = "org.postgresql.Driver"
  
  # Connection pool settings
  connectionPool {
    initialSize = 5
    maxSize = 20
    connectionTimeout = 30000
  }
}

# Spark Configuration
spark {
  appName = "VaR Data Quality"
  master = "local[*]"
  master = ${?SPARK_MASTER}
  
  # Spark SQL settings
  sql {
    shuffle.partitions = 200
    adaptive.enabled = true
  }
  
  # Memory settings
  executor {
    memory = "4g"
    cores = 2
  }
  
  driver {
    memory = "2g"
  }
}

# Data Quality Settings
dataQuality {
  # Thresholds for data quality checks
  thresholds {
    missingDataPercentage = 5.0
    duplicatePercentage = 1.0
    minObservationsPerTicker = 250
  }
  
  # Output settings
  output {
    path = "output/data-quality-reports"
    format = "parquet"
  }
}